<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:pro="http://www.liquibase.org/xml/ns/pro"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd
      http://www.liquibase.org/xml/ns/pro
      http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.1.xsd">
 
    <changeSet id="payment_event_pkey" author="auth" runInTransaction="false">
    	<preConditions onFail="MARK_RAN">
    		<not>
    			<indexExists indexName="payment_event_pkey"/>
    		</not>
    	</preConditions>
    	<sql>
    		CREATE INDEX CONCURRENTLY payment_event_pkey ON payment_event USING btree (payment_event_id);
    	</sql>
    </changeSet>
    <changeSet id="payment_header_pkey" author="auth" runInTransaction="false">
    	<preConditions onFail="MARK_RAN">
    		<not>
    			<indexExists indexName="payment_header_pkey"/>
    		</not>
    	</preConditions>
    	<sql>
    		CREATE INDEX CONCURRENTLY payment_header_pkey ON payment_header USING btree (payment_header_id);
    	</sql>
    </changeSet>
    <changeSet id="billing_address_pkey" author="auth" runInTransaction="false">
    	<preConditions onFail="MARK_RAN">
    		<not>
    			<indexExists indexName="billing_address_pkey"/>
    		</not>
    	</preConditions>
    	<sql>
    		CREATE INDEX CONCURRENTLY billing_address_pkey ON billing_address USING btree (billing_address_id);
    	</sql>
    </changeSet>
    <changeSet id="payment_event_payment_reference" author="auth" runInTransaction="false">
    	<preConditions onFail="MARK_RAN">
    		<not>
    			<indexExists indexName="payment_event_payment_reference"/>
    		</not>
    	</preConditions>
    	<sql>
    		CREATE INDEX CONCURRENTLY payment_event_payment_reference ON payment_event USING btree (payment_reference);
    	</sql>
    </changeSet>
    <changeSet id="pe_payment_header_id" author="auth" runInTransaction="false">
    	<preConditions onFail="MARK_RAN">
    		<not>
    			<indexExists indexName="pe_payment_header_id"/>
    		</not>
    	</preConditions>
    	<sql>
    		CREATE INDEX CONCURRENTLY pe_payment_header_id ON payment_event USING btree (payment_header_id);
    	</sql>
    </changeSet>
    <changeSet id="payment_header_order_number" author="auth" runInTransaction="false">
    	<preConditions onFail="MARK_RAN">
    		<not>
    			<indexExists indexName="payment_header_order_number"/>
    		</not>
    	</preConditions>
    	<sql>
    		CREATE INDEX CONCURRENTLY payment_header_order_number ON payment_header USING btree (order_number);
    	</sql>
    </changeSet>
    <changeSet id="payment_header_order_ref" author="auth" runInTransaction="false">
    	<preConditions onFail="MARK_RAN">
    		<not>
    			<indexExists indexName="payment_header_order_ref"/>
    		</not>
    	</preConditions>
    	<sql>
    		CREATE INDEX CONCURRENTLY payment_header_order_ref ON payment_header USING btree (order_ref);
    	</sql>
    </changeSet>
    <changeSet id="ph_billing_address_id" author="auth" runInTransaction="false">
    	<preConditions onFail="MARK_RAN">
    		<not>
    			<indexExists indexName="ph_billing_address_id"/>
    		</not>
    	</preConditions>
    	<sql>
    		CREATE INDEX CONCURRENTLY ph_billing_address_id ON payment_header USING btree (billing_address_id);
    	</sql>
    </changeSet>
</databaseChangeLog>